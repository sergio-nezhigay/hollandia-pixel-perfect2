{{ 'custom-image-with-text.css' | asset_url | stylesheet_tag }}

{% assign has_content = false %}

{% if section.settings.image %}
  {% assign has_content = true %}
{% endif %}

{% if section.settings.title != blank %}
  {% assign has_content = true %}
{% endif %}

{% if section.settings.description != blank %}
  {% assign has_content = true %}
{% endif %}

{% comment %}Відображаємо секцію тільки якщо є контент{% endcomment %}
{% if has_content %}
<div class="hero-section" style="background-color: {{ section.settings.background_color }};">
  <div class="hero-container">
    {% if section.settings.image_position == 'left' %}
      <!-- Image Left Layout -->
      <div class="hero-content hero-content--image-left">
        {% if section.settings.image %}
          <div class="hero-image">
            <img src="{{ section.settings.image | img_url: '1200x340' }}"
                 alt="{{ section.settings.image.alt | default: section.settings.title }}"
                 loading="lazy">
          </div>
        {% endif %}
        
        {% if section.settings.title != blank or section.settings.description != blank %}
          <div class="hero-text">
            {% if section.settings.title != blank %}
              <h2 class="hero-title">{{ section.settings.title }}</h2>
            {% endif %}
            {% if section.settings.description != blank %}
              <div class="hero-description">{{ section.settings.description }}</div>
            {% endif %}
          </div>
        {% endif %}
      </div>
    {% else %}
      <!-- Image Right Layout -->
      <div class="hero-content hero-content--image-right">
        {% if section.settings.title != blank or section.settings.description != blank %}
          <div class="hero-text">
            {% if section.settings.title != blank %}
              <h2 class="hero-title">{{ section.settings.title }}</h2>
            {% endif %}
            {% if section.settings.description != blank %}
              <div class="hero-description">{{ section.settings.description }}</div>
            {% endif %}
          </div>
        {% endif %}
        
        {% if section.settings.image %}
          <div class="hero-image">
            <img src="{{ section.settings.image | img_url: '1200x340' }}"
                 alt="{{ section.settings.image.alt | default: section.settings.title }}"
                 loading="lazy">
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>
{% endif %}

{% schema %}
{
  "name": "Hero Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "right"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Your Hero Title"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Your hero description text goes here. You can add multiple paragraphs and formatting.</p>"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Custom Image With Text"
    }
  ]
}
{% endschema %}